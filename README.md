# QUADRATIC EQUATION

Модуль разработан на языке С и содержит функцию solve_equation, принимающую на вход 3 вещественных числа a, b, c.
Функция решает квадратное уравнение 
_ax^2+bx+c=0_

## Содержание

1. [Требования](#1-требования)
2. [Цели make](#2-цели-make)
3. [Краткое описание функции](#3-краткое-описание_функции)
4. [Краткое описание тестов](#4-краткое-описание-тестов)



## 1. Требования

Для тестов необходима библиотека check.h, ее можно установить с помощью команды
```
sudo apt-get install check
```

Для отчета по покрытию кода необходим gcov, можно установить с помощью команды
```
sudo apt install lcov
```


## 2. Цели make

`Makefile` расположен в папке `src`

- `all` - вызывает цель quadratic_equation.a
- `quadratic_equation.a` - собирает статическую библиотеку
- `check` - запускает тесты
- `gcov_report` - запускает тесты и составляет отчет покрытия кода

## 3. Краткое описание функции

Реализация функции `solve_equation` расположена в папке `src/source_code`.

```
answ_t solve_equation(double a, double b, double c);
```

Функция принимает на вход три вещественных числа, и возвращает структуру ответа на квадратное уравнение `answ_t`. Структура имеет следующий вид:

```
typedef struct {
  complex_t x1;
  complex_t x2;
  int flag;
} answ_t;
```

Где `x1` и `x2` представляют собой структуры комплексного числа:

```
typedef struct {
  double Re;
  double Im;
} complex_t;
```

Здесь 
- `Re` - действительная часть числа
- `Im` - мнимая часть числа

`int flag` - количество решений уравнения, может принимать следующие значения:

```
#define QE_NO_SLN -1 // нет решений
#define QE_MANY_SLN 0 // множество решений
#define QE_ONE_SLN 1 // один корень
#define QE_TWO_SLN 2 // два корня
```

В файле `quadratic_equation.с` определена переменная для сравнения вещественного числа с 0

```
#define QE_EPS 1e-8
```

Основная идея работы функции `solve_equation` - проверка наличия коэффициентов `a, b, c`, поступивших на вход, и запись их в переменную состояния

`unsigned char r`

Если коэффициент существует, то на его месте (бит) будет стоять `1`, в противном случае `0`. Т.е.

`0bABC` - где биты `ABC` - наличие коэффициентов `a, b, c` соответственно.

Затем через `switch`, в зависимости от значения переменной `r` вызываются функции, решающие частные случаи квадратного уравнения, либо же полное квадратное уравнение.


## 4. Краткое описание тестов

Код тестов находится в папке `src/test_code`.

Основная функция в тестах

```
Suite *solve_equation_suite(void);
```

вызывается в файле `tests_main.c`. Типовой тест-кейс имеет следующий вид:

- Задание значений `a, b, c`
- Создание структур ожидаемых значений `des` и выходных значений `out`
- Вызов функции `solve_equation`
- Сравнение полученных и ожидаемых значений с помощью функции `answ_compare`. Точность проверки задается в файле `quadratic_equation_test.h`

```
#define QE_TEST_EPS 1e-6
```

В файле `solve_equation.c` имеется также вспомогательная функция, которая может быть использована при необходимости вывода в консоль структуры `answ_t`

```
void print_answ(answ_t a)
```